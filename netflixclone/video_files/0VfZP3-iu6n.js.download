;/*FB_PKG_DELIM*/

__d("getSurfaceAwareContainer",["ge"],(function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("ge")("workGalahadWebChromeEntity");return a?a:document.body}g["default"]=a}),98);
__d("snowliftLoadingSpinner",["cx","CSS"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){d("CSS").addClass(a,"_1m42");return function(){d("CSS").removeClass(a,"_1m42")}}g["default"]=a}),98);
__d("PhotoSnowliftLoader",["Arbiter","Bootloader","FBLogger","PageEvents","getSurfaceAwareContainer","ifRequired","snowliftLoadingSpinner"],(function(a,b,c,d,e,f,g){"use strict";function h(a,b,d){if(a&&a.offer_bypass_snowlift==="1"){r(d);c("Bootloader").loadModules(["AsyncRequest"],function(a){new a().setURI(b).send()},"PhotoSnowliftLoader");return!0}return!1}function i(a,b,d){if(a&&a.offerx_bypass_snowlift==="1"){r(d);c("Bootloader").loadModules(["AsyncRequest","XOfferController"],function(b,c){c=c.getURIBuilder().setFBID("offer_id",a.offerx_id).setEnum("referrer",a.offerx_referrer).setStringVector("__xts__",a.__xts__).setString("__tn__",a.__tn__).getURI();new b().setURI(c).send()},"PhotoSnowliftLoader");return!0}return!1}function j(a,b,d){if(a&&a.sales_promo_bypass_snowlift==="1"){r(d);c("Bootloader").loadModules(["AsyncRequest","XSalesPromoWWWDetailsDialogAsyncController"],function(b,c){c=c.getURIBuilder().setFBID("offer_id",a.sales_promo_id).setString("referrer",a.sales_promo_referrer).setStringVector("__xts__",a.__xts__).setString("__tn__",a.__tn__).getURI();new b().setURI(c).send()},"PhotoSnowliftLoader");return!0}return!1}var k=function(){};c("Arbiter").subscribe("PhotoSnowlift.OPEN",function(){k()});c("Arbiter").subscribe("SalesPromoDetails.OPEN",function(){k()});c("Arbiter").subscribe("OfferDetails.OPEN",function(){k()});var l=!1,m="",n={x:960,y:960},o=360,p={x:82,y:42};function a(a,b,d){c("Bootloader").loadModules(["URI"],function(e){m="";k();k=c("snowliftLoadingSpinner")(b);var f=String(e.getMostRecentURI().getQueryData().viewas),g=new e(a).getQueryData();g=s(g,a,b,f);if(g){b.getAttribute("data-ploi")&&(g=new Image(),g.src=new e(t(b)));q(a,b,f,d)}},"PhotoSnowliftLoader")}function q(a,b,d,e){r(d),c("Bootloader").loadModules(["PhotoTagApproval","PhotoTagger","PhotoTags","TagTokenizer"],function(){},"PhotoSnowliftLoader"),c("Bootloader").loadModules(["PhotoSnowlift"],function(c){c.bootstrap(a,b)},e)}var r=function(a){if(l)return;l=!0;var b=a?{viewas:a}:{};c("Bootloader").loadModules(["AsyncRequest"],function(a){new a("/ajax/photos/snowlift/init.php").setAllowCrossPageTransition(!0).setMethod("GET").setReadOnly(!0).setData(b).setErrorHandler(function(a){c("FBLogger")("photo_snowlift").catching(a.toError()).warn("failed to initialize snowlift")}).send()},"PhotoSnowliftLoader")};function s(a,b,c,d){c=h(a,b,d);var e=i(a,b,d);a=j(a,b,d);return!c&&!a&&!e}function t(a){m===""&&c("ifRequired")("URI",function(b){var c=a.getAttribute("data-ploi"),d=a.getAttribute("data-plsi");b=new b(a.getAttribute("ajaxify")).getQueryData().size.split(",");d&&!u({hasSmallImage:!!d,dimensions:{x:b[0],y:b[1]}})?m=d:c?m=c:m=""});return m}function u(a){c("ifRequired")("Vector",function(b){if(!a.hasSmallImage)return!1;b=v(a.dimensions);if(b){b=w(b);b=x(a.dimensions,b);if(b)return b.x>n.x||b.y>n.y}return!1});return!1}function v(a){c("ifRequired")("Vector",function(b){var c=b.getViewportDimensions(),d=new b(a.x,a.y),e;e=Math.min(d.x,c.x-o-p.x);c=c.y-p.y;c=Math.min(d.y,c);if(e===0&&c===0)return new b(0,0);var f=e/c;d=d.x/d.y;return f<d?new b(e,Math.round(e/d)):new b(Math.round(c*d),c)})}function w(a){c("ifRequired")("Vector",function(b){window.devicePixelRatio&&window.devicePixelRatio>1&&(a=new b(a.x*window.devicePixelRatio,a.y*window.devicePixelRatio))});return a}function x(a,b){c("ifRequired")("Vector",function(c){var d=a.x,e=a.y;if(d>=b.x||e>=b.y){var f=b.x/b.y,g=d/e;f<g?(d=b.x,e=Math.round(d/g)):f>g?(e=b.y,d=Math.round(e*g)):(d=b.x,e=b.y)}return new c(d,e)})}b=function(){c("Arbiter").subscribe(c("PageEvents").BIGPIPE_ONLOAD,function(){var a=c("getSurfaceAwareContainer")();(a&&a.classList.contains("home")||a&&a.classList.contains("timelineLayout"))&&c("ifRequired")("requestIdleCallback",function(a){a(function(){r()})},function(){r()})})};g.STAGE_NORMAL_MAX=n;g.SIDEBAR_SIZE_MAX=o;g.STAGE_CHROME=p;g.load=a;g.loadWithSnowLift=q;g.loadFrame=r;g.shouldUseSnowlift=s;g.getImageURL=t;g.shouldShowHiRes=u;g.getStageSize=v;g.adjustStageSizeForPixelRatio=w;g.getImageSizeInStage=x;g.preload=b}),98);
__d("uniqueID",[],(function(a,b,c,d,e,f){var g="js_",h=36,i=0;function a(a,b){a===void 0&&(a=g);b===void 0&&(b=!1);return b?a:a+(i++).toString(h)}f["default"]=a}),66);
__d("PrimerInlineHandlers",["Bootloader","Parent","cr:6108","nullthrows","uniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h={},i=new Map();function j(a,d){var e=c("nullthrows")(a.id);e in h||(h[e]=0);h[e]===0&&b("cr:6108").addClass(a,"bootloading");h[e]+=d}function k(a){var d=c("nullthrows")(a.id);h[d]--;h[d]===0&&b("cr:6108").removeClass(a,"bootloading")}function l(a,b,c,d){var e=d!==void 0?c[d]:c,f;if(Array.isArray(e))for(f=0;f<e.length;f++)l(a,b,e,f);else if(e&&typeof e==="object")if(e.__elem)c[d]=a;else if(e.__event)c[d]=b;else for(f in e)l(a,b,e,f)}function m(a,b,e){var g=d("Parent").byClass(a,"stat_elem")||a;g.id||g.setAttribute("id",c("uniqueID")());e=JSON.parse(a.getAttribute(e));j(g,e.length);e.forEach(function(d){d=Array.isArray(d)?n(d):o(d);var e=d.moduleName,h=d.methodName,j=d.logicalKey,m=d.args;l(a,b,m);var p=c("Bootloader").loadModules.call(c("Bootloader"),[e],function(a){k(g),a[h].apply(a,m)},"Primer: addEventHandler");if(j!=null){d=i.get(j);d!==void 0&&d();i.set(j,function(){p.remove(),k(a)})}})}function n(a){var b=a[0],c=a[1];a=a.slice(2);return{moduleName:b,methodName:c,args:a}}function o(a){var b=a.k,c=a.mod,d=a.meth;a=a.a;return{logicalKey:b,moduleName:c,methodName:d,args:a}}function a(a,b,c){a=d("Parent").byAttribute(a,c);if(!a)return null;do m(a,b,c);while(a=d("Parent").byAttribute(a.parentNode,c));return!1}g.run=a}),98);
__d("ReactServerPrimer",["FBLogger","Parent"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function i(a){while(a&&a instanceof Node){if(a instanceof HTMLElement&&a.getAttribute("data-sr-before"))break;var b=a.previousSibling;b?a=b:a=a.parentNode}if(a instanceof HTMLElement)return a;else{c("FBLogger")("ServerCallables").mustfix("Failed to find wrapping data-sr-before mount");return null}}function j(a,b,c){var d=i(b);if(!d)return null;var e=h.get(d);e||(e=[],h.set(d,e));e.push(function(){var d=new a.constructor(a.type,a),e=c===void 0?b:c;e.dispatchEvent(d)});return!1}function a(a,b,c){a=d("Parent").byAttribute(c,a);return!a?null:j(b,a,c)}g.handleEvent=a}),98);
__d("clickRefAction",["Arbiter"],(function(a,b,c,d,e,f){var g=function(b,a,c,d,e){"use strict";var f=this;this.set_namespace=function(a){f.ns=a;return f};this.coalesce_namespace=function(a){f.ns===null&&(f.ns=a);return f};this.add_event=function(){return f};var g=b+"/"+a;this.ue=g;this.ue_ts=b;this.ue_count=a;this.context=c;this.ns=null;this.node=d;this.type=e},h=0,i=[],j=Date.now()+6e4;function c(a,c,d,e,f){var k=Date.now(),l=d&&d.type;f=f||{};!c&&d&&(c=d.getTarget());var m=50;if(c&&e!="FORCE")for(var n=i.length-1;n>=0&&k-i[n].ue_ts<m;--n)if(i[n].node==c&&i[n].type==l)return i[n];n=new g(k,h,a,c,l);i.push(n);while(i[0].ue_ts+m<k||i.length>10)i.shift();l=k<j?"persistent":"event";a=="contextmenu"?b("Arbiter").inform("ClickRefAction/contextmenu",{cfa:n,node:c,mode:e,event:d,extra_data:f},l):a=="middleclick"?b("Arbiter").inform("ClickRefAction/middleclick",{cfa:n,node:c,mode:e,event:d,extra_data:f},l):b("Arbiter").inform("ClickRefAction/new",{cfa:n,node:c,mode:e,event:d,extra_data:f},l);h++;return n}e.exports=a.clickRefAction=c}),null);
__d("firstClickTimestamp",["DataStore"],(function(a,b,c,d,e,f,g){"use strict";var h="first-click-timestamp";function a(a,b){var c=d("DataStore").get(a,h);c||d("DataStore").set(a,h,b.toString())}function b(a){a=d("DataStore").get(a,h);return Number(a)}g.setIfFirstClick=a;g.get=b}),98);
__d("trackReferrer",["Cookie","Parent"],(function(a,b,c,d,e,f){var g=/^(?:(?:[^:\/?#]+):)?(?:\/\/(?:[^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/;function h(a){return((a=g.exec(a))==null?void 0:a[1])||""}function a(a,c){a=b("Parent").byAttribute(a,"data-referrer");if(a){c=h(c);if(!c)return;a=c+"|"+((c=a.getAttribute("data-referrer"))!=null?c:"");b("Cookie").set("x-src",a)}}e.exports=a}),null);
__d("Primer",["invariant","Bootloader","CSS","Env","Event","Parent","PhotoSnowliftLoader","PrimerInlineHandlers","ReactServerPrimer","TimeSlice","clickRefAction","firstClickTimestamp","ifRequired","performanceNow","requireDeferred","trackReferrer"],(function(a,b,c,d,e,f,g,h){var i,j,k=c("requireDeferred")("AsyncRequest").__setRef("Primer"),l=null,m=/async(?:-post)?|dialog(?:-post)?|theater|toggle/;a=document.documentElement;a!=null||h(0,2301);function n(a,b,e,f,g){d("firstClickTimestamp").setIfFirstClick(b,(i||(i=c("performanceNow")))());var l=b.getAttribute("ajaxify"),n=b.href,o=f!=null&&f!==""?f:l||n;o&&c("clickRefAction")("a",b,a).coalesce_namespace("primer");if(l&&n&&!/#$/.test(n)){f=a.which&&a.which===2;l=a.altKey||a.ctrlKey||a.metaKey||a.shiftKey;if(f||l)return}n=d("PrimerInlineHandlers").run(e,a,"data-onclick");c("trackReferrer")(b,o);var p=g||b.rel;p=p&&p.match(m);p=p&&p[0];f="Primer: "+p;switch(p){case"dialog":case"dialog-post":c("Bootloader").loadModules(["AsyncDialog"],function(a){a.bootstrap(o,b,p)},f);break;case"async":case"async-post":k.loadImmediately(function(a){a.bootstrap(o,b,p==="async-post")});break;case"theater":!(j||(j=c("Env"))).isCQuick?d("PhotoSnowliftLoader").load(o,b,f):c("ifRequired")("PageTransitions",function(a){a.go(o)});break;case"toggle":l=b.parentNode;l!=null||h(0,2302);d("CSS").toggleClass(l,"openToggler");c("Bootloader").loadModules(["Toggler"],function(a){if(b.parentNode==null)return;a.bootstrap(b)},f);break;default:c("ifRequired")("PageTransitionsRegistrar",function(b){b.__onClick(a)},function(){});return n}return!1}c("Event").listen(document,"click",function(a){a=a||window.event;if(a.button>=2)return;l=a.target||a.srcElement;var b=d("Parent").byTag(l,"A");b instanceof HTMLAnchorElement?b=n(a,b,l):b=d("PrimerInlineHandlers").run(l,a,"data-onclick");b==null&&(b=d("ReactServerPrimer").handleEvent("data-sr-onclick",a,l));return b},c("Event").Priority._BUBBLE);c("Event").listen(document,"submit",function(a){var b=a.getTarget(),d=b&&b.getAttribute("action"),e=b&&b.getAttribute("data-react-action")==="true";if(d!=null&&e)return;d=b&&b.getAttribute("rel");if(b&&b.nodeName=="FORM"&&(d=="async"||d==="dialog")){c("clickRefAction")("f",b,a).coalesce_namespace("primer");var f=l;switch(d){case"async":c("Bootloader").loadModules(["FormSubmit"],function(a){a.send(b,f)},"Primer: async");break;case"dialog":c("Bootloader").loadModules(["FormSubmit","AsyncDialog"],function(a,c){a=a.buildRequest(b,f);a&&c.send(a)},"Primer: form dialog");break}return!1}else return c("ifRequired")("PageTransitionsRegistrar",function(b){return b.__onSubmit(a,l)})},c("Event").Priority._BUBBLE);var o=null;b=function(a,b){b=b||window.event;o=b.target||b.srcElement;var c=d("PrimerInlineHandlers").run(o,b,"data-on"+a);p();a==="mouseover"&&(q(),c==null&&o&&(c=d("ReactServerPrimer").handleEvent("data-sr-onmouseover",b,o)))};e=function(a,b){b=b||window.event,o=b.relatedTarget||b.toElement};var p=function(){var a=o,b=d("Parent").byAttribute(o,"data-hover");if(b){switch(b.getAttribute("data-hover")){case"tooltip":c("Bootloader").loadModules(["Tooltip"],function(c){o===a&&c.process(b,o)},"Primer: tooltip");break}return}},q=function(){var a=o,b=d("Parent").byAttribute(a,"data-hovercard");b&&c("Bootloader").loadModules(["Hovercard"],function(c){o===a&&c.processNode(b)},"Primer: hovercard")};a.onmouseover=c("TimeSlice").guard(b.bind(null,"mouseover"),"Primer mouseover");a.onmouseout=c("TimeSlice").guard(e.bind(null,"mouseout"),"Primer mouseout");f=c("TimeSlice").guard(b.bind(null,"focus"),"Primer focus");a.addEventListener?a.addEventListener("focus",f,!0):a.attachEvent("onfocusin",f);e=c("TimeSlice").guard(b.bind(null,"keypress"),"Primer keypress");a.addEventListener&&a.addEventListener("keypress",e,!0);d("PhotoSnowliftLoader").preload();g.primerHandleAjaxify=n}),98);
__d("useEventHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useLayoutEffect,k=b.useRef;function a(a){var b=k(a);j(function(){b.current=a},[a]);return i(function(){b.current.apply(b,arguments)},[])}g["default"]=a}),98);
__d("useHoverState",["useBoolean","useEventHandler"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b){var d=c("useBoolean")(!1),e=d.value,f=d.set,g=d.setTrue,h=d.setFalse;d=c("useEventHandler")(function(b){g(),a==null?void 0:a(b)});var i=c("useEventHandler")(function(a){h(),b==null?void 0:b(a)});return{isHovered:e,onMouseEnter:d,onMouseLeave:i,setIsHovered:f}}g["default"]=a}),98);
__d("EventProfilerSham",[],(function(a,b,c,d,e,f){a={__wrapEventListenHandler:function(a){return a},tagCurrentActiveInteractionsAs:function(a){},setCurrentAdAccountId:function(a){},setAdsConfig:function(a){}};b=a;f["default"]=b}),66);